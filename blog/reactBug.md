---
title: react踩坑记
date: 2018/10/15
category: practice
---

### react踩坑记

##### 前言

这篇文章完全是记录一个`react`新手的踩坑之路，不过相信在不断的练习与思考中，我也会成为一名优秀的`熟练工`

##### 1.input输入一个字符竟然立即失去焦点

在表单中，需要循环生成一组`input`，由于需要循环的元素需要绑定一个唯一的`key`，于是写了个生成唯一`key`的方法，每次`render`都生成一组`key`绑定上去，当`input`输入时，触发`onChange`事件，`onChange`使用了`setState`于是触发`react`的`render`,导致`input`绑定了一组新的`key`，于是失去了焦点。

?> 分析下来解决方案就简单了，循环渲染的数组，新增一个`key`字段，唯一的`key`只生成一次就解决了。当时刚遇到的时候还真是一头雾水。这并不是`react`的坑，完全是我搬起石头砸自己的脚哈哈

##### 2.父组件切换数据 子组件不再请求

##### key必须在其兄弟节点中是唯一的，而非全局唯一